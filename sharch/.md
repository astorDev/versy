# Shell Architecture (ShArch)

Problems:
    - Passing state and logging at the same time
    - Using script with both relative and absolute path


Things I learned while deciding on the architecture:

- Bash functions can return **only** integers up to 255
- There's 3 streams of data in shell: stdin, stdout, stderr

Few notes about shell syntax:
    - `-` is forbidden in shell function names
    - `source` is not POSIX compliant, `.` is used instead

## ChatGPT

```markdown
I have sh file A calling sh file B. I want to it to call B by relative path when I run it locally and by absolute url (like from github when called from the outside). How can I achieve that?
```

```markdown

```

```markdown
I'm creating a software product with few sh scripts coordinating between each other. I want called scripts to log their actions and return values. When I call a parent script I want to get called script logs and assign the return value to a variable. 

I see following approaches:
- Logging to stderr and returning value to stdout
- Echoing everything together, then grepping return value
- Assigning variables in the called script

Is there any other options? Which options is considered the best practice and why?
```

Additional options from ChatGPT options:
- Logging to files
- Using named pipes